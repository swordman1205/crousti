<header class="navbar pr-2 pl-2" (click)="reset()">
  <h5 class="thin-word-2 mt-1 mb-0">{{shopName}}</h5>
  <a class="nav navbar-nav ml-auto home" routerLink="/"><i class="fa fa-home"></i></a>
</header>
<div class="container configuration-panel" (click)="reset()">
  <div class="card mb-0" [style.marginTop]="offsetPos + 'px'">
    <div class="card-block">
      <div class="row header-layout mt-1">
        <div class="col-sm-6">
          <input type="text" class="form-control" placeholder="Please insert cabinet name..." [(ngModel)]="cabinet.name"/>
        </div>
        <div class="col-sm-6">
          <a class="ico-button pull-right text-uppercase ml-2" href="#"><i class="fa fa-print"></i>Send</a>
          <a class="ico-button pull-right text-uppercase" href="#"><i class="fa fa-envelope"></i>Print</a>
        </div>
      </div>

      <p class="mt-3 text-muted">Select a slot to change its contents</p>
      <div class="text-center temp-layer">
        <table class="template">
          <tr class="cells" *ngFor="let row of cabinet.template.data; let rowIndex = index">
            <td class="cell" *ngFor="let cell of row; let cellIndex = index">
              <div class="panel" *ngFor="let j of getRepeatList(cell.type[1])" [style.height]="100/cell.type[1] + '%'">
                <div class="pull-left area" *ngFor="let i of getRepeatList(cell.type[0])" [style.width]="100/cell.type[0] + '%'" [style.height]="'100%'" (click)="assingProduct($event, rowIndex, cellIndex, j, i)">
                  <div class="colored-bottom" [style.backgroundColor]="getColor(rowIndex, cellIndex)"></div>
                  <div class="product" *ngIf="cell.content">
                    <img [hidden]="!cell.content[j][i]" [src]="cell.content[j][i]" [class.horizontal]="cell.type[0] >= cell.type[1]" [class.vertical]="cell.type[0] < cell.type[1]"/>
                  </div>
                </div>
              </div>
            </td>
          </tr>
        </table>
      </div>

      <div class="bottom-bar pr-1 pl-1">
        <a class="cancel pull-left text-uppercase text-center mb-0" href="javascript:void(0)" (click)="cancel()">
          <i class="material-icons">clear</i> Cancel
        </a>
        <a class="save pull-right text-uppercase" href="javascript:void(0)" (click)="save()">
          <i class="material-icons">check</i> Save
        </a>
      </div>
    </div>
  </div>
</div>

<div class="assignModal" [class.active]="isAssigning">
  <product-collector (cancel)="reset()" (onAddProduct)="addProduct($event)"></product-collector>
</div>
